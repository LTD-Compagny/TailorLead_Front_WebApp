@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-[#0d1b2a] text-white overflow-hidden;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
  }
  
  #root {
    @apply w-full h-screen;
  }
}

@layer utilities {
  /* Animation de pulse pour la bordure quand l'utilisateur tape */
  @keyframes pulse-border {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(77, 175, 255, 0.7);
    }
    50% {
      box-shadow: 0 0 20px 4px rgba(77, 175, 255, 0.4);
    }
  }

  .animate-pulse-border {
    animation: pulse-border 2s ease-in-out infinite;
  }

  /* Animation du beam vertical (onde bleue vers le bas) */
  @keyframes beam {
    0% {
      transform: translateX(-50%) translateY(0) scaleY(0);
      opacity: 1;
    }
    100% {
      transform: translateX(-50%) translateY(100vh) scaleY(1);
      opacity: 0;
    }
  }

  .animate-beam {
    animation: beam 0.7s ease-out forwards;
    transform-origin: top center;
  }

  /* Animation burst 1 (cercle qui s'étend depuis le prompt) */
  @keyframes burst-1 {
    0% {
      transform: scale(1);
      opacity: 0.6;
    }
    100% {
      transform: scale(2.5);
      opacity: 0;
    }
  }

  .animate-burst-1 {
    animation: burst-1 0.6s ease-out forwards;
  }

  /* Animation burst 2 (deuxième cercle décalé) */
  @keyframes burst-2 {
    0% {
      transform: scale(1);
      opacity: 0.4;
    }
    100% {
      transform: scale(3);
      opacity: 0;
    }
  }

  .animate-burst-2 {
    animation: burst-2 0.8s ease-out 0.1s forwards;
  }

  /* Animation slide-left + fade-in pour le slogan */
  @keyframes slide-left-fade-in {
    0% {
      opacity: 0;
      transform: translateX(-20px);
    }
    100% {
      opacity: 1;
      transform: translateX(0);
    }
  }

  .animate-slide-left-fade-in {
    animation: slide-left-fade-in 0.6s ease-out forwards;
  }

  /* Scrollbar personnalisée pour les suggestions (verticale) */
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: #E1E5EB;
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: #C1C5CB;
  }

  /* Firefox */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: #E1E5EB transparent;
  }

  /* Animations pour TailorIAIcon */
  @keyframes tailorParticle1 {
    0% {
      transform: translate(0, 0) scale(1);
      opacity: 1;
    }
    100% {
      transform: translate(8px, -8px) scale(0);
      opacity: 0;
    }
  }

  @keyframes tailorParticle2 {
    0% {
      transform: translate(0, 0) scale(1);
      opacity: 1;
    }
    100% {
      transform: translate(-8px, -8px) scale(0);
      opacity: 0;
    }
  }

  @keyframes tailorParticle3 {
    0% {
      transform: translate(0, 0) scale(1);
      opacity: 1;
    }
    100% {
      transform: translate(0, 12px) scale(0);
      opacity: 0;
    }
  }

  .animate-tailorParticle1 {
    animation: tailorParticle1 1.5s ease-out infinite;
  }

  .animate-tailorParticle2 {
    animation: tailorParticle2 1.5s ease-out 0.3s infinite;
  }

  .animate-tailorParticle3 {
    animation: tailorParticle3 1.5s ease-out 0.6s infinite;
  }

  /* Animations orbitales pour TailorIAIcon - Morphing avec transform */
  @keyframes orbitMorph1 {
    0%, 100% {
      transform: scale(1) translate(0, 0);
      opacity: 1;
    }
    25% {
      transform: scale(0.95) translate(2px, -2px);
      opacity: 0.9;
    }
    50% {
      transform: scale(1.05) translate(-2px, 2px);
      opacity: 0.85;
    }
    75% {
      transform: scale(0.98) translate(1px, 1px);
      opacity: 0.95;
    }
  }

  @keyframes orbitMorph2 {
    0%, 100% {
      transform: scale(1) translate(0, 0);
      opacity: 0.6;
    }
    33% {
      transform: scale(1.03) translate(-1px, -3px);
      opacity: 0.7;
    }
    66% {
      transform: scale(0.97) translate(3px, 1px);
      opacity: 0.5;
    }
  }

  @keyframes orbitMorph3 {
    0%, 100% {
      transform: scale(1) translate(0, 0);
      opacity: 0.3;
    }
    50% {
      transform: scale(1.02) translate(-2px, -1px);
      opacity: 0.4;
    }
  }

  .animate-orbitMorph1 {
    animation: orbitMorph1 6s ease-in-out infinite;
    transform-origin: center;
  }

  .animate-orbitMorph2 {
    animation: orbitMorph2 8s ease-in-out infinite;
    transform-origin: center;
  }

  .animate-orbitMorph3 {
    animation: orbitMorph3 10s ease-in-out infinite;
    transform-origin: center;
  }

  /* Transition de page avec effet de scroll/glissement */
  @keyframes slideInFromBottom {
    0% {
      opacity: 0;
      transform: translateY(100vh);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideInFromRight {
    0% {
      opacity: 0;
      transform: translateX(100vw);
    }
    100% {
      opacity: 1;
      transform: translateX(0);
    }
  }

  .page-transition-enter {
    width: 100%;
    height: 100%;
  }

  /* Smooth scroll pour la transition */
  html {
    scroll-behavior: smooth;
  }

  .animate-slide-in-from-bottom {
    animation: slideInFromBottom 0.8s ease-out forwards;
  }

  /* Limiter les canvas Particles dans leur conteneur */
  .particles-container {
    position: relative !important;
    overflow: hidden !important;
    contain: layout style paint;
  }

  .particles-container canvas,
  .particles-container [id^="tailor-ia-mini"] canvas {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 100% !important;
    height: 100% !important;
    max-width: 100% !important;
    max-height: 100% !important;
    pointer-events: none !important;
  }

  .particles-container [id^="tailor-ia-mini"] {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 100% !important;
    height: 100% !important;
    overflow: hidden !important;
    max-width: 100% !important;
    max-height: 100% !important;
  }

  .particles-container [id^="tailor-ia-mini-xs"] {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 100% !important;
    height: 100% !important;
    overflow: hidden !important;
    max-width: 100% !important;
    max-height: 100% !important;
  }

  .particles-container [id^="tailor-ia-mini-xs"] canvas {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 100% !important;
    height: 100% !important;
    max-width: 100% !important;
    max-height: 100% !important;
    pointer-events: none !important;
  }
}

